(window.webpackJsonp=window.webpackJsonp||[]).push([[8,56],{247:function(t,e,n){},248:function(t,e,n){"use strict";var i={name:"cl-icon",props:{name:String}},r=(n(252),n(4)),a=Object(r.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("i",{class:"cl-icon--"+this.name})},[],!1,null,null,null);e.a=a.exports},251:function(t,e,n){"use strict";n(250);e.a={data:function(){return{codeParent:[],codeHeightArr:[],isShow:[]}},methods:{trim:function(t){return t.replace(/^ {8}/gm,"").trim()},showCode:function(t){var e=this;this.$set(this.isShow,t,!this.isShow[t]),this.$nextTick(function(){!0===e.isShow[t]?e.codeParent[t].style.height=+e.codeHeightArr[t]+25+"px":e.codeParent[t].style.height=0})},getCodesHeight:function(){var t=this.$el.getElementsByClassName("code-content-height");this.codeParent=this.$el.getElementsByClassName("code-content");for(var e=t.length,n=0;n<e;n++)this.codeHeightArr.push(t[n].getBoundingClientRect().height),this.isShow.push(!1)}},mounted:function(){var t=this;this.$nextTick(function(){t.getCodesHeight()})}}},252:function(t,e,n){"use strict";var i=n(247);n.n(i).a},260:function(t,e,n){"use strict";var i=n(1),r=n(6),a=n(31),s=n(265),o=n(32),c=n(19),l=n(262).f,u=n(259).f,f=n(11).f,d=n(263).trim,h=i.Number,p=h,v=h.prototype,m="Number"==a(n(36)(v)),g="trim"in String.prototype,_=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,a=(e=g?e.trim():d(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if((s=c.charCodeAt(l))<48||s>r)return NaN;return parseInt(c,i)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(m?c(function(){v.valueOf.call(n)}):"Number"!=a(n))?s(new p(_(e)),n,h):_(e)};for(var y,b=n(5)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;b.length>C;C++)r(p,y=b[C])&&!r(h,y)&&f(h,y,u(p,y));h.prototype=v,v.constructor=h,n(10)(i,"Number",h)}},263:function(t,e,n){var i=n(30),r=n(20),a=n(19),s=n(264),o="["+s+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),u=function(t,e,n){var r={},o=a(function(){return!!s[t]()||"​"!="​"[t]()}),c=r[t]=o?e(f):s[t];n&&(r[n]=c),i(i.P+i.F*o,"String",r)},f=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},264:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},267:function(t,e,n){var i=n(11).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||n(5)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},270:function(t,e,n){},279:function(t,e,n){"use strict";var i={name:"cl-button",components:{Icon:n(248).a},mixins:[{name:"cl-wave-animation-animating",data:function(){return{node:null,animating:!1,originClassName:""}},mounted:function(){this.node=this.$el,this.originClassName=this.node.className,this.node.addEventListener("click",this.animationStart)},beforeDestroy:function(){this.node.removeEventListener("click",this.animationStart),this.node.removeEventListener("animationend",this.animationEnd)},methods:{animationStart:function(){this.animating||this.closeWave||(this.animating=!0,this.originClassName=this.node.className,this.node.className=[this.originClassName+" cl-wave-animation-animating"],this.node.addEventListener("animationend",this.animationEnd))},animationEnd:function(){this.animating=!1,this.node.className=this.originClassName,this.node.removeEventListener("animationend",this.animationEnd)}}}],props:{icon:{type:String,default:""},type:{type:String,default:"default"},loading:{type:Boolean,default:!1},size:{type:String,default:"normal",validator:function(t){return["normal","large","small"].indexOf(t)>-1}},disabled:{type:Boolean,default:!1},iconPosition:{type:String,default:"left",validator:function(t){return["left","right"].indexOf(t)>-1}}},computed:{classObject:function(){var t=this.type,e=this.size,n=this.isDisabled;return["cl-btn",t,{loading:this.loading},{disabled:n},e]},getIconPosition:function(){var t=this.icon,e=this.loading;if(t||e)return"icon-".concat(this.iconPosition)},isDisabled:function(){return this.loading||this.disabled}},methods:{clickHandler:function(t){if(this.disabled)return t.preventDefault(),void t.stopPropagation();this.$emit("click",t)}}},r=(n(291),n(4)),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return"text"===t.type?n("span",{class:t.classObject},[t._t("default")],2):n("button",{class:[t.classObject,t.getIconPosition],attrs:{disabled:t.isDisabled},on:{click:t.clickHandler}},[t.icon&&!t.loading?n("Icon",{staticClass:"icon",attrs:{name:t.icon}}):t._e(),t._v(" "),t.loading?n("Icon",{staticClass:"loading icon",attrs:{name:"loading"}}):t._e(),t._v(" "),n("div",{staticClass:"content"},[t._t("default")],2)],1)},[],!1,null,"39818d03",null);e.a=a.exports},281:function(t,e,n){t.exports=n(282)},282:function(t,e,n){n(277),n(283),t.exports=n(272).Array.from},283:function(t,e,n){"use strict";var i=n(306),r=n(297),a=n(308),s=n(284),o=n(285),c=n(307),l=n(286),u=n(309);r(r.S+r.F*!n(287)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,f,d=a(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,g=0,_=u(d);if(m&&(v=i(v,p>2?arguments[2]:void 0,2)),null==_||h==Array&&o(_))for(n=new h(e=c(d.length));e>g;g++)l(n,g,m?v(d[g],g):d[g]);else for(f=_.call(d),n=new h;!(r=f.next()).done;g++)l(n,g,m?s(f,v,[r.value,g],!0):r.value);return n.length=g,n}})},284:function(t,e,n){var i=n(280);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},285:function(t,e,n){var i=n(276),r=n(269)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},286:function(t,e,n){"use strict";var i=n(295),r=n(298);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},287:function(t,e,n){var i=n(269)("iterator"),r=!1;try{var a=[7][i]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:n=!0}},a[i]=function(){return s},t(a)}catch(t){}return n}},288:function(t,e,n){t.exports=n(289)},289:function(t,e,n){n(311),n(277),t.exports=n(290)},290:function(t,e,n){var i=n(310),r=n(269)("iterator"),a=n(276);t.exports=n(272).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||a.hasOwnProperty(i(e))}},291:function(t,e,n){"use strict";var i=n(270);n.n(i).a},294:function(t,e,n){"use strict";var i=n(304),r=n.n(i);var a=n(281),s=n.n(a),o=n(288),c=n.n(o);function l(t){return function(t){if(r()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return l})},387:function(t,e,n){},425:function(t,e,n){"use strict";n.r(e);var i={data:function(){return{table:[{param:"name",des:"上传的文件字段名",type:"string",choice:"-",def:"-"},{param:"action",des:"上传的地址",type:"number",choice:"string",def:"-"},{param:"method",des:"上传的请求方法",type:"string",choice:"GET, POST",def:"POST"},{param:"method",des:"上传的请求方法",type:"string",choice:"GET, POST",def:"POST"},{param:"fileList",des:"上传的文件列表",type:"array",choice:"-",def:"-"},{param:"sizeLimit",des:"文件的数量限制",type:"Number",choice:"-",def:"-"},{param:"accept",des:"文件类型",type:"string",choice:"-",def:"image"}],table1:[{name:"parseResponse",des:"成功上传的回调",cb:"200"}]}}},r=n(4),a=Object(r.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"base"},[n("section",[n("h2",[t._v("Attributes")]),t._v(" "),n("div",{staticClass:"attr"},[n("table",[t._m(0),t._v(" "),n("tbody",t._l(t.table,function(e,i){return n("tr",{key:i},[n("th",[t._v(t._s(e.param))]),t._v(" "),n("th",{staticClass:"des"},[t._v(t._s(e.des))]),t._v(" "),n("th",{staticClass:"type"},[t._v(t._s(e.type))]),t._v(" "),n("td",[t._v(t._s(e.choice))]),t._v(" "),n("td",[t._v(t._s(e.def))])])}),0)])])]),t._v(" "),n("section",[n("h2",[t._v("Events")]),t._v(" "),n("div",{staticClass:"attr"},[n("table",[t._m(1),t._v(" "),n("tbody",t._l(t.table1,function(e,i){return n("tr",{key:i},[n("th",[t._v(t._s(e.name))]),t._v(" "),n("th",{staticClass:"des"},[t._v(t._s(e.des))]),t._v(" "),n("th",{staticClass:"type"},[t._v(t._s(e.cb))])])}),0)])])])])},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("参数")]),t._v(" "),n("th",{staticClass:"des"},[t._v("说明")]),t._v(" "),n("th",{staticClass:"type"},[t._v("类型")]),t._v(" "),n("th",[t._v("可选值")]),t._v(" "),n("th",[t._v("默认值")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("事件名称")]),this._v(" "),e("th",{staticClass:"des"},[this._v("说明")]),this._v(" "),e("th",{staticClass:"type"},[this._v("回调参数")])])])}],!1,null,null,null);e.default=a.exports},522:function(t,e,n){"use strict";var i=n(256)(!0);n(43)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},523:function(t,e,n){"use strict";var i=n(37),r=n(30),a=n(33),s=n(524),o=n(525),c=n(34),l=n(526),u=n(527);r(r.S+r.F*!n(528)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,f,d=a(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,g=0,_=u(d);if(m&&(v=i(v,p>2?arguments[2]:void 0,2)),null==_||h==Array&&o(_))for(n=new h(e=c(d.length));e>g;g++)l(n,g,m?v(d[g],g):d[g]);else for(f=_.call(d),n=new h;!(r=f.next()).done;g++)l(n,g,m?s(f,v,[r.value,g],!0):r.value);return n.length=g,n}})},524:function(t,e,n){var i=n(9);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},525:function(t,e,n){var i=n(16),r=n(3)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[r]===t)}},526:function(t,e,n){"use strict";var i=n(11),r=n(22);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},527:function(t,e,n){var i=n(257),r=n(3)("iterator"),a=n(16);t.exports=n(14).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||a[i(t)]}},528:function(t,e,n){var i=n(3)("iterator"),r=!1;try{var a=[7][i]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:n=!0}},a[i]=function(){return s},t(a)}catch(t){}return n}},529:function(t,e,n){"use strict";var i=n(387);n.n(i).a},546:function(t,e,n){"use strict";n.r(e);var i=n(248),r=n(279),a=n(251),s=(n(267),n(522),n(523),n(294));n(260);var o={get:function(){},post:function(t,e){return function(t,e,n){var i=new XMLHttpRequest;i.open(t,e),i.onload=function(){n.success&&n.success(i.response)},i.onerror=function(){n.fail&&n.fail(i,i.status)},i.send(n.data)}("post",t,e)},put:function(){},delete:function(){},patch:function(){}},c={name:"cl-uploader",components:{ClIcon:i.a},props:{name:{type:String,required:!0},action:{type:String,required:!0},method:{type:String,default:"POST"},parseResponse:{type:Function,required:!0},fileList:{type:Array,default:function(){return[]}},sizeLimit:{type:Number},accept:{type:String,default:"image/*"}},data:function(){return{url:"about:blank"}},methods:{onClickUpload:function(){var t=this,e=this.createInput();e.addEventListener("change",function(n){t.uploadFiles(e.files),e.remove()}),e.click()},onRemoveFile:function(t){if(window.confirm("确定删除？")){var e=Object(s.a)(this.fileList),n=e.indexOf(t);e.splice(n,1),this.$emit("update:fileList",e)}},beforeUploadFiles:function(t,e){t=Array.from(t);for(var n=0;n<t.length;n++){var i=t[n],r=i.size;i.type;if(r>this.sizeLimit)return this.$emit("error","文件大于2MB"),!1}var a=t.map(function(t,n){var i=t.type,r=t.size;return{name:e[n],type:i,size:r,status:"uploading"}});return this.$emit("update:fileList",[].concat(Object(s.a)(this.fileList),Object(s.a)(a))),!0},afterUploadFiles:function(t,e){var n=this.fileList.filter(function(e){return e.name===t})[0],i=this.fileList.indexOf(n),r=JSON.parse(JSON.stringify(n));r.url=e,r.status="success";var a=Object(s.a)(this.fileList);a.splice(i,1,r),this.$emit("update:fileList",a),this.$emit("uploaded")},uploadFiles:function(t){for(var e=this,n=[],i=0;i<t.length;i++){var r=t[i],a=r.name,s=(r.size,r.type,this.generateName(a));n[i]=s}if(this.beforeUploadFiles(t,n))for(var o=function(i){var r=t[i],a=n[i],s=new FormData;s.append(e.name,r),e.doUploadFiles(s,function(t){var n=e.parseResponse(t);e.url=n,e.afterUploadFiles(a,n)},function(t){e.uploadError(t,a)})},c=0;c<t.length;c++)o(c)},uploadError:function(t,e){var n=this.fileList.filter(function(t){return t.name===e})[0],i=this.fileList.indexOf(n),r=JSON.parse(JSON.stringify(n));r.status="fail";var a=Object(s.a)(this.fileList);a.splice(i,1,r),this.$emit("update:fileList",a);var o="";0===t.status&&(o="网络无法连接"),this.$emit("error",o)},generateName:function(t){for(;this.fileList.filter(function(e){return e.name===t}).length>0;){var e=t.lastIndexOf("."),n=t.substring(0,e),i=t.substring(e);t=n+"(1)"+i}return t},doUploadFiles:function(t,e,n){o[this.method.toLowerCase()](this.action,{success:e,fail:n,data:t})},createInput:function(){this.$refs.temp.innerHTML="";var t=document.createElement("input");return t.accept=this.accept,t.type="file",t.multiple=!0,this.$refs.temp.appendChild(t),t}}},l=(n(529),n(4)),u=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cl-uploader"},[n("div",{on:{click:t.onClickUpload}},[t._t("default")],2),t._v(" "),n("ol",{staticClass:"cl-uploader-fileList"},t._l(t.fileList,function(e){var i;return n("li",{key:e.name},["uploading"===e.status?[n("cl-icon",{staticClass:"cl-uploader-spin",attrs:{name:"loading"}})]:0===e.type.indexOf("image")?[n("img",{staticClass:"cl-uploader-image",attrs:{src:e.url,width:"32",height:"32",alt:""}})]:n("temaplte",[n("div",{staticClass:"cl-uploader-defaultImage"})]),t._v(" "),n("span",{staticClass:"cl-uploader-name",class:(i={},i[e.status]=e.status,i)},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"cl-uploader-remove",on:{click:function(n){return t.onRemoveFile(e)}}},[t._v("x")])],2)}),0),t._v(" "),n("div",{ref:"temp",staticStyle:{width:"0",height:"0",overflow:"hidden"}})])},[],!1,null,"34926540",null).exports,f=n(425),d={name:"upload-demo",mixins:[a.a],components:{ClButton:r.a,ClIcon:i.a,ClUploader:u,Attributes:f.default},data:function(){return{fileList:[],error:"",codeStr:'\n      <cl-uploader\n            accept="image/*"\n            method="POST"\n            action="http://127.0.0.1:3000/upload"\n            name="file"\n            :parseResponse="parseResponse"\n            :file-list.sync="fileList"\n            @error="error=$event"\n            :size-limit="1024*1024"\n            >\n            <cl-button icon="upload">上传</cl-button>\n        </cl-uploader>\n        \ndata() {\n  return {\n    fileList: [],\n    error: \'\',             \n  }\n},\nmethods: {\n  parseResponse (response) {\n    let object = JSON.parse(response)\n    let url = \'http://127.0.0.1:3000/preview/\'+object.id\n    return url\n  },      \n  updateFileList(newFileList){\n    this.fileList = newFileList\n  }            \n}\n      '}},methods:{parseResponse:function(t){return"http://127.0.0.1:3000/preview/"+JSON.parse(t).id},updateFileList:function(t){this.fileList=t}},computed:{baseMethods:function(){return this.trim(this.codeStr)}}},h=Object(l.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo"},[n("p",[t._v("通过点击上传文件")]),t._v(" "),n("h3",[t._v("基础用法")]),t._v(" "),n("div",{staticClass:"component-wrapper"},[n("div",{staticClass:"component-wrapper-demo"},[n("cl-uploader",{attrs:{accept:"image/*",method:"POST",action:"http://127.0.0.1:3000/upload",name:"file",parseResponse:t.parseResponse,"file-list":t.fileList,"size-limit":1048576},on:{"update:fileList":function(e){t.fileList=e},"update:file-list":function(e){t.fileList=e},error:function(e){t.error=e}}},[n("cl-button",{attrs:{icon:"upload"}},[t._v("上传")])],1)],1),t._v(" "),n("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"code-content",staticStyle:{height:"0"}},[n("div",{staticClass:"code-content-height"},[n("pre",[n("code",{staticClass:"html"},[t._v(t._s(t.baseMethods))])])])]),t._v(" "),n("div",{ref:"xxx",staticClass:"lock-code",on:{click:function(e){return t.showCode(0)}}},[n("cl-icon",{staticClass:"icon-down",attrs:{name:!1===t.isShow[0]?"arrow-down":"arrow-up"}}),t._v(" "),n("span",{staticClass:"lock-code-word"},[t._v(t._s(!1===t.isShow[0]?"显示代码":"隐藏代码"))])],1)]),t._v(" "),n("Attributes")],1)},[],!1,null,"03b6fa20",null);e.default=h.exports}}]);